{"ast":null,"code":"import _classCallCheck from\"/Users/venkateswarareddy/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/venkateswarareddy/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/venkateswarareddy/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/venkateswarareddy/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/venkateswarareddy/Documents/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import ArticleService from'../services/ArticleService';var CreateArticleComponent=/*#__PURE__*/function(_Component){_inherits(CreateArticleComponent,_Component);var _super=_createSuper(CreateArticleComponent);function CreateArticleComponent(props){var _this;_classCallCheck(this,CreateArticleComponent);_this=_super.call(this,props);_this.saveOrUpdateArticle=function(e){e.preventDefault();var article={title:_this.state.title,body:_this.state.body};console.log('article => '+JSON.stringify(article));// step 5\nif(_this.state.id==='_add'){ArticleService.createArticle(article).then(function(res){_this.props.history.push('/articles');});}else{ArticleService.updateArticle(article,_this.state.id).then(function(res){_this.props.history.push('/articles');});}};_this.changeTitleHandler=function(event){_this.setState({title:event.target.value});};_this.changeBodyHandler=function(event){_this.setState({body:event.target.value});};_this.state={// step 2\nid:_this.props.match.params.id,title:'',body:''};_this.changeTitleHandler=_this.changeTitleHandler.bind(_assertThisInitialized(_this));_this.changeBodyHandler=_this.changeBodyHandler.bind(_assertThisInitialized(_this));_this.saveOrUpdateArticle=_this.saveOrUpdateArticle.bind(_assertThisInitialized(_this));return _this;}// step 3\n_createClass(CreateArticleComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// step 4\nif(this.state.id==='_add'){return;}else{ArticleService.getArticleById(this.state.id).then(function(res){var article=res.data;_this2.setState({title:article.title,body:article.body});});}}},{key:\"cancel\",value:function cancel(){this.props.history.push('/articles');}},{key:\"getTitle\",value:function getTitle(){if(this.state.id==='_add'){return/*#__PURE__*/React.createElement(\"h3\",{className:\"text-center\"},\"Add Article\");}else{return/*#__PURE__*/React.createElement(\"h3\",{className:\"text-center\"},\"Update Article\");}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card col-md-6 offset-md-3 offset-md-3\"},this.getTitle(),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Title: \"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Title\",name:\"title\",className:\"form-control\",value:this.state.title,onChange:this.changeTitleHandler})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",null,\" Body: \"),/*#__PURE__*/React.createElement(\"input\",{placeholder:\"Body\",name:\"body\",className:\"form-control\",value:this.state.body,onChange:this.changeBodyHandler})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success\",onClick:this.saveOrUpdateArticle},\"Save\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:this.cancel.bind(this),style:{marginLeft:\"10px\"}},\"Cancel\")))))));}}]);return CreateArticleComponent;}(Component);export default CreateArticleComponent;","map":{"version":3,"sources":["/Users/venkateswarareddy/Documents/my-app/src/components/CreateArticleComponent.jsx"],"names":["React","Component","ArticleService","CreateArticleComponent","props","saveOrUpdateArticle","e","preventDefault","article","title","state","body","console","log","JSON","stringify","id","createArticle","then","res","history","push","updateArticle","changeTitleHandler","event","setState","target","value","changeBodyHandler","match","params","bind","getArticleById","data","getTitle","cancel","marginLeft"],"mappings":"gyBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,C,GAEMC,CAAAA,sB,gIACF,gCAAYC,KAAZ,CAAmB,wDACf,uBAAMA,KAAN,EADe,MA6BnBC,mBA7BmB,CA6BG,SAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACA,GAAIC,CAAAA,OAAO,CAAG,CAACC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KAAnB,CAA0BE,IAAI,CAAE,MAAKD,KAAL,CAAWC,IAA3C,CAAd,CACAC,OAAO,CAACC,GAAR,CAAY,cAAgBC,IAAI,CAACC,SAAL,CAAeP,OAAf,CAA5B,EAEA;AACA,GAAG,MAAKE,KAAL,CAAWM,EAAX,GAAkB,MAArB,CAA4B,CACxBd,cAAc,CAACe,aAAf,CAA6BT,OAA7B,EAAsCU,IAAtC,CAA2C,SAAAC,GAAG,CAAG,CAC7C,MAAKf,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACH,CAFD,EAGH,CAJD,IAIK,CACDnB,cAAc,CAACoB,aAAf,CAA6Bd,OAA7B,CAAsC,MAAKE,KAAL,CAAWM,EAAjD,EAAqDE,IAArD,CAA2D,SAAAC,GAAG,CAAI,CAC9D,MAAKf,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACH,CAFD,EAGH,CACJ,CA5CkB,OA8CnBE,kBA9CmB,CA8CC,SAACC,KAAD,CAAW,CAC3B,MAAKC,QAAL,CAAc,CAAChB,KAAK,CAAEe,KAAK,CAACE,MAAN,CAAaC,KAArB,CAAd,EACH,CAhDkB,OAkDnBC,iBAlDmB,CAkDA,SAACJ,KAAD,CAAW,CAC1B,MAAKC,QAAL,CAAc,CAACd,IAAI,CAAEa,KAAK,CAACE,MAAN,CAAaC,KAApB,CAAd,EACH,CApDkB,CAGf,MAAKjB,KAAL,CAAa,CACT;AACAM,EAAE,CAAE,MAAKZ,KAAL,CAAWyB,KAAX,CAAiBC,MAAjB,CAAwBd,EAFnB,CAGTP,KAAK,CAAE,EAHE,CAITE,IAAI,CAAE,EAJG,CAAb,CAMA,MAAKY,kBAAL,CAA0B,MAAKA,kBAAL,CAAwBQ,IAAxB,+BAA1B,CACA,MAAKH,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBG,IAAvB,+BAAzB,CACA,MAAK1B,mBAAL,CAA2B,MAAKA,mBAAL,CAAyB0B,IAAzB,+BAA3B,CAXe,aAYlB,CAED;oEACA,4BAAmB,iBAEf;AACA,GAAG,KAAKrB,KAAL,CAAWM,EAAX,GAAkB,MAArB,CAA4B,CACxB,OACH,CAFD,IAEK,CACDd,cAAc,CAAC8B,cAAf,CAA8B,KAAKtB,KAAL,CAAWM,EAAzC,EAA6CE,IAA7C,CAAmD,SAACC,GAAD,CAAQ,CACvD,GAAIX,CAAAA,OAAO,CAAGW,GAAG,CAACc,IAAlB,CACA,MAAI,CAACR,QAAL,CAAc,CAAChB,KAAK,CAAED,OAAO,CAACC,KAAhB,CACVE,IAAI,CAAEH,OAAO,CAACG,IADJ,CAAd,EAGH,CALD,EAMH,CACJ,C,sBA0BD,iBAAQ,CACJ,KAAKP,KAAL,CAAWgB,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACH,C,wBAED,mBAAU,CACN,GAAG,KAAKX,KAAL,CAAWM,EAAX,GAAkB,MAArB,CAA4B,CACxB,mBAAO,0BAAI,SAAS,CAAC,aAAd,gBAAP,CACH,CAFD,IAEK,CACD,mBAAO,0BAAI,SAAS,CAAC,aAAd,mBAAP,CACH,CACJ,C,sBACD,iBAAS,CACL,mBACI,4CACI,8BADJ,cAEI,2BAAK,SAAS,CAAG,WAAjB,eACI,2BAAK,SAAS,CAAG,KAAjB,eACI,2BAAK,SAAS,CAAG,uCAAjB,EAEQ,KAAKkB,QAAL,EAFR,cAII,2BAAK,SAAS,CAAG,WAAjB,eACI,6CACI,2BAAK,SAAS,CAAG,YAAjB,eACI,4CADJ,cAEI,6BAAO,WAAW,CAAC,OAAnB,CAA2B,IAAI,CAAC,OAAhC,CAAwC,SAAS,CAAC,cAAlD,CACO,KAAK,CAAE,KAAKxB,KAAL,CAAWD,KADzB,CACgC,QAAQ,CAAE,KAAKc,kBAD/C,EAFJ,CADJ,cAMI,2BAAK,SAAS,CAAG,YAAjB,eACI,2CADJ,cAEI,6BAAO,WAAW,CAAC,MAAnB,CAA0B,IAAI,CAAC,MAA/B,CAAsC,SAAS,CAAC,cAAhD,CACO,KAAK,CAAE,KAAKb,KAAL,CAAWC,IADzB,CAC+B,QAAQ,CAAE,KAAKiB,iBAD9C,EAFJ,CANJ,cAWI,8BAAQ,SAAS,CAAC,iBAAlB,CAAoC,OAAO,CAAE,KAAKvB,mBAAlD,SAXJ,cAYI,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAE,KAAK8B,MAAL,CAAYJ,IAAZ,CAAiB,IAAjB,CAA5C,CAAoE,KAAK,CAAE,CAACK,UAAU,CAAE,MAAb,CAA3E,WAZJ,CADJ,CAJJ,CADJ,CADJ,CAFJ,CADJ,CA+BH,C,oCAlGgCnC,S,EAqGrC,cAAeE,CAAAA,sBAAf","sourcesContent":["import React, { Component } from 'react'\nimport ArticleService from '../services/ArticleService';\n\nclass CreateArticleComponent extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            // step 2\n            id: this.props.match.params.id,\n            title: '',\n            body: ''\n        }\n        this.changeTitleHandler = this.changeTitleHandler.bind(this);\n        this.changeBodyHandler = this.changeBodyHandler.bind(this);\n        this.saveOrUpdateArticle = this.saveOrUpdateArticle.bind(this);\n    }\n\n    // step 3\n    componentDidMount(){\n\n        // step 4\n        if(this.state.id === '_add'){\n            return\n        }else{\n            ArticleService.getArticleById(this.state.id).then( (res) =>{\n                let article = res.data;\n                this.setState({title: article.title,\n                    body: article.body\n                });\n            });\n        }\n    }\n    saveOrUpdateArticle = (e) => {\n        e.preventDefault();\n        let article = {title: this.state.title, body: this.state.body};\n        console.log('article => ' + JSON.stringify(article));\n\n        // step 5\n        if(this.state.id === '_add'){\n            ArticleService.createArticle(article).then(res =>{\n                this.props.history.push('/articles');\n            });\n        }else{\n            ArticleService.updateArticle(article, this.state.id).then( res => {\n                this.props.history.push('/articles');\n            });\n        }\n    }\n\n    changeTitleHandler= (event) => {\n        this.setState({title: event.target.value});\n    }\n\n    changeBodyHandler= (event) => {\n        this.setState({body: event.target.value});\n    }\n\n    cancel(){\n        this.props.history.push('/articles');\n    }\n\n    getTitle(){\n        if(this.state.id === '_add'){\n            return <h3 className=\"text-center\">Add Article</h3>\n        }else{\n            return <h3 className=\"text-center\">Update Article</h3>\n        }\n    }\n    render() {\n        return (\n            <div>\n                <br></br>\n                <div className = \"container\">\n                    <div className = \"row\">\n                        <div className = \"card col-md-6 offset-md-3 offset-md-3\">\n                            {\n                                this.getTitle()\n                            }\n                            <div className = \"card-body\">\n                                <form>\n                                    <div className = \"form-group\">\n                                        <label> Title: </label>\n                                        <input placeholder=\"Title\" name=\"title\" className=\"form-control\"\n                                               value={this.state.title} onChange={this.changeTitleHandler}/>\n                                    </div>\n                                    <div className = \"form-group\">\n                                        <label> Body: </label>\n                                        <input placeholder=\"Body\" name=\"body\" className=\"form-control\"\n                                               value={this.state.body} onChange={this.changeBodyHandler}/>\n                                    </div>\n                                    <button className=\"btn btn-success\" onClick={this.saveOrUpdateArticle}>Save</button>\n                                    <button className=\"btn btn-danger\" onClick={this.cancel.bind(this)} style={{marginLeft: \"10px\"}}>Cancel</button>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CreateArticleComponent"]},"metadata":{},"sourceType":"module"}